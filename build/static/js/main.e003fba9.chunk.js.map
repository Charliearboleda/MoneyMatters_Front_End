{"version":3,"sources":["components/dashboard.js","components/login.js","components/register.js","App.js","index.js"],"names":["Dashboard","setAuth","useState","user_id","user_name","user_email","user_password","account_balance","currentUser","setCurrentUser","formInfo","setFormInfo","a","fetch","method","headers","token","localStorage","response","json","parseResponse","console","error","message","updateBalance","e","preventDefault","window","location","reload","parseInt","id","log","JSON","stringify","body","useEffect","getUser","className","onClick","removeItem","onSubmit","name","type","onChange","target","value","Login","inputs","setInputs","onSubmitForm","setItem","htmlFor","to","Register","placeholder","App","isAuthenticated","setIsAuthenticated","boolean","isAuth","exact","path","render","props","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e003fba9.chunk.js","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\"\n\nconst Dashboard = ({setAuth}) => {\n\n    // const [inputs, setInputs] = useState({\n    //     account_balance: \"\",\n    // })\n    //\n    // const [name, setName] = useState(\"\")\n    // const [balance, setBalance] = useState(\"\")\n    const [currentUser, setCurrentUser] = useState({\n        user_id: \"\",\n        user_name: \"\",\n        user_email: \"\",\n        user_password: \"\",\n        account_balance: \"\"\n    })\n\n    const [formInfo, setFormInfo] = useState({\n        user_id: \"\",\n        user_name: \"\",\n        user_email: \"\",\n        user_password: \"\",\n        account_balance: \"\"\n    })\n\n    async function getUser() {\n        try {\n        const response = await fetch(\"https://money-managment-nyc.herokuapp.com/dashboard\", {\n            method:\"GET\",\n            headers: {token: localStorage.token}\n        })\n\n        const parseResponse = await response.json()\n        setCurrentUser(parseResponse)\n        setFormInfo(parseResponse)\n        // setName(parseResponse.user_name)\n        // setBalance(parseResponse.account_balance)\n        } catch (err) {\n            console.error(err.message)\n        }\n    }\n\nconst updateBalance = async(e) => {\n    e.preventDefault()\n        window.location.reload(false)\n    try {\n        await setFormInfo({\n            ...formInfo,\n            account_balance: parseInt(currentUser.account_balance)\n        })\n        const id = currentUser.user_id\n\n        console.log(JSON.stringify(formInfo))\n        const response = await fetch(`https://money-managment-nyc.herokuapp.com/auth/${id}`, {\n            method: \"PUT\",\n            headers: {token: localStorage.token,\"Content-Type\" : \"application/json\"},\n            body:JSON.stringify(formInfo)\n\n        })\n    } catch (err) {\n    console.error(err.message)\n    }\n}\n\nconst handleChange = (e) => {\n    setFormInfo({\n        ...formInfo,\n        [e.target.name]: e.target.value\n    })\n}\n\nconst logout = (e) => {\n    e.preventDefault()\n    localStorage.removeItem(\"token\")\n    setAuth(false)\n}\n\nuseEffect(() => {\n    getUser()\n\n},[])\n\n\n    return (\n        <Fragment>\n        <div className=\"button\">\n        <button className=\"btn btn-primary \" onClick={logout}>Log Out</button>\n        </div>\n        <div className=\"header\">\n        <h1>Welcome, {currentUser.user_name}</h1>\n        </div>\n\n\n        <div className=\"account\">\n\n\n        <h3>Your Account Balance Is ${currentUser.account_balance}</h3>\n\n        <form onSubmit={updateBalance} name={currentUser.user_id}>\n        <input type=\"number\" name=\"account_balance\"  onChange={handleChange} />\n        <input className=\"submit\"type=\"submit\" onClick={updateBalance} />\n\n        </form>\n        </div>\n\n        </Fragment>\n    )\n}\nexport default Dashboard\n","import React, { Fragment, useState } from \"react\"\nimport { Link } from 'react-router-dom'\n\nconst Login = ({setAuth}) => {\n    const [inputs, setInputs] = useState({\n        user_email: \"\",\n        user_password: \"\"\n    })\n    const {user_email, user_password} = inputs\n\n    const onChange = (e) => {\n        setInputs({...inputs, [e.target.name] : e.target.value })\n    }\n\n    const onSubmitForm = async(e) => {\n        e.preventDefault()\n        try {\n            const body = {user_email, user_password}\n            const response = await fetch(\"https://money-managment-nyc.herokuapp.com/auth/login\", {\n                method:\"POST\",\n                headers: {\"Content-Type\" : \"application/json\"}\n                ,\n                body: JSON.stringify(body)\n            })\n            const parseResponse = await response.json()\n            localStorage.setItem(\"token\", parseResponse.token)\n            setAuth(true)\n        } catch (err) {\n            console.error(err.message)\n        }\n    }\n\n    return (\n        <Fragment>\n        <h1 className=\"text-center my-5\">Login</h1>\n        <form onSubmit={onSubmitForm}>\n            <label htmlFor=\"user_email\">Email</label>\n                <input type=\"email\" name=\"user_email\" className=\"form-control my-3\" value={user_email} onChange={e => onChange(e)} />\n            <label htmlFor=\"user_password\">Password</label>\n                <input type=\"password\" name=\"user_password\" className=\"form-control my-3\" value={user_password} onChange={e => onChange(e)} />\n                <button className=\"btn btn-success btn-block\">Log In</button>\n        </form>\n        <Link to=\"/register\">Sign Up</Link>\n        </Fragment>\n    )\n}\nexport default Login\n","import React, { Fragment, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst Register = ({setAuth}) => {\n\n    const [inputs, setInputs] = useState({\n        user_name: \"\",\n        user_email: \"\",\n        user_password: \"\",\n        account_balance: \"\"\n    })\n\n    const { user_name, user_email, user_password, account_balance } = inputs\n\n  const onChange = e => {\n      setInputs({...inputs, [e.target.name] : e.target.value})\n  }\n\n  const onSubmitForm = async(e) => {\n      e.preventDefault()\n      try {\n          const body = {user_name, user_email, user_password, account_balance }\n\n          const response = await fetch(\"https://money-managment-nyc.herokuapp.com/auth/register\", {\n              method: \"POST\",\n              headers:{\"Content-Type\" : \"application/json\"}\n              ,\n              body: JSON.stringify(body)\n\n          })\n\n          const parseResponse = await response.json()\n          localStorage.setItem(\"token\", parseResponse.token)\n          setAuth(true)\n\n      } catch (err) {\n            console.error(err.message)\n      }\n  }\n\n    return (\n        <Fragment>\n        <h1 className=\"text-center my-5\">Register</h1>\n        <form onSubmit={onSubmitForm}>\n\n                <label htmlFor=\"userName\">User Name </label>\n                    <input type=\"text\" name=\"user_name\" placeholder=\"name\" className=\"form-control my-3\" value={user_name} onChange={e => onChange(e)}/>\n\n                <label htmlFor=\"email\">Email </label>\n                    <input type=\"email\" name=\"user_email\" placeholder=\"email\" className=\"form-control my-3\" value={user_email} onChange= {e => onChange(e)} />\n\n                <label htmlFor=\"password\">Password </label>\n                    <input type=\"password\" name=\"user_password\" placeholder=\"password\" className=\"form-control my-3\" value={user_password} onChange= {e => onChange(e)}/>\n\n                <label htmlFor=\"accountBalance\">Account Balance $ </label>\n                    <input type=\"text\" name=\"account_balance\" placeholder=\"balance\" className=\"form-control my-3\" value={account_balance} onChange= {e => onChange(e)} />\n\n        <button className=\"btn btn-success btn-block\">Submit</button>\n        </form>\n        <Link to=\"/login\">Log In</Link>\n        </Fragment>\n    )\n}\nexport default Register\n","\nimport './App.css';\nimport React,{ Fragment, useState, useEffect } from \"react\"\nimport {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\"\nimport Dashboard from \"./components/dashboard\"\nimport Login from \"./components/login\"\nimport Register from \"./components/register\"\n\n\n\n\nfunction App() {\n    const [isAuthenticated, setIsAuthenticated] = useState(false)\n    const setAuth = (boolean) => {\n        setIsAuthenticated(boolean)\n    }\n\n    async function isAuth() {\n        try {\n            const response = await fetch(\"https://money-managment-nyc.herokuapp.com/auth/is-verify\", {\n                method: \"GET\",\n                headers: {token: localStorage.token}\n            })\n            const parseResponse = await response.json()\n            parseResponse === true ? setIsAuthenticated(true) : setIsAuthenticated(false)\n        } catch (err) {\n        console.error(err.message)\n        }\n    }\n\n    useEffect(() => {\n        isAuth()\n    })\n\n  return (\n    <Fragment>\n        <Router>\n            <div className=\"container\">\n                <Switch>\n                    <Route exact path=\"/login\" render={props => !isAuthenticated ?  <Login {...props} setAuth={setAuth} /> : <Redirect to=\"/dashboard\" />}/>\n                    <Route exact path=\"/register\" render={props => !isAuthenticated? <Register {...props} setAuth={setAuth} /> : <Redirect to=\"/login\" />}/>\n                    <Route exact path=\"/dashboard\" render={props => isAuthenticated ? <Dashboard {...props} setAuth={setAuth} /> : <Redirect to=\"/login\" />}/>\n                </Switch>\n                </div>\n        </Router>\n    </Fragment>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}